//
//  BRChainParams.c
//  BRCore
//
//  Created by Aaron Voisine on 3/11/19.
//  Copyright (c) 2019 breadwallet LLC
//
//  Permission is hereby granted, free of charge, to any person obtaining a copy
//  of this software and associated documentation files (the "Software"), to deal
//  in the Software without restriction, including without limitation the rights
//  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
//  copies of the Software, and to permit persons to whom the Software is
//  furnished to do so, subject to the following conditions:
//
//  The above copyright notice and this permission notice shall be included in
//  all copies or substantial portions of the Software.
//
//  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
//  THE SOFTWARE.

//

#include "BRChainParams.h"

static const char *BRMainNetDNSSeeds[] = {"seed1.cspn.pro.","seed2.cspn.pro.","seed3.cspn.pro.","seed4.cspn.pro.","seed5.cspn.pro.",NULL};


static const char *BRTestNetDNSSeeds[] = {
    "testnet-seed.breadwallet.com.", "testnet-seed.bitcoin.petertodd.org.", "testnet-seed.bluematt.me.",
    "testnet-seed.bitcoin.schildbach.de.", NULL
};

// blockchain checkpoints - these are also used as starting points for partial chain downloads, so they must be at
// difficulty transition boundaries in order to verify the block difficulty at the immediately following transition
static const BRCheckPoint BRMainNetCheckpoints[] = {
    {0,uint256("000001cc15d1ed7b231c7dd494cf136f8c3f09bf23b19aa1b840b1fc599792a2"), 1542763898,0x1e0ffff0},
    {5000,uint256("2249953485b4b11ea14d70d5129244d60399fe0c9e699f0e168a2a8ffd88c743"), 1546511338,0x1c195fe7},
    {10000,uint256("da70f5154089a3af3ffc6e6e7132b5d3e85361b76b14d64dabd3674349962371"), 1546812089,0x1c0311c3},
    {15000,uint256("92b54f641c5a14298fbeb1518591f101fffe7543e6115e27bc8d0d8abf1972fa"), 1547112399,0x1c00c11f},
    {20000,uint256("088b8ea959b1a3f8f577215ca40677d877e12e977352aa36b07a211dd026af3c"), 1547412289,0x1b345ad3},
    {25000,uint256("54df7223502d650193d7fe8afa6c938605acbd8ba69714ca30777e753a3b2e58"), 1547716472,0x1b446551},
    {30000,uint256("e166f79800a28ceeccda2b1db8c042ba408fb386b6189c15e16f16150186235c"), 1548018065,0x1b39b62d},
    {35000,uint256("974333e6c43628c9e66c9c5fad13335f0c3e4bf2a35d46a78f033dc7d27fb0c3"), 1548320189,0x1b2cca46},
    {40000,uint256("fc5e0d57f4bcc3f3db88373dbf965133477eda701ecfc7b1832b6c0830459fae"), 1548622650,0x1b2a1e66},
    {45000,uint256("35a8f734c7f55fe906c8b0e0b656d51e32069d3579779553ea2f553c7c70428c"), 1548924842,0x1b22075e},
    {50000,uint256("49eb0ad50a31341dd1ff48b06046efd59326fae2770cac31980b881e0147ecbb"), 1549227335,0x1b3047a7},
    {55000,uint256("a58775e33f6ab1a814bc48580429df59850222b9bf4b164845b7387bc58b0cfb"), 1549529236,0x1b2650f1},
    {60000,uint256("b95af90bd2c341b5f94ed36d0bdea65683f5dbd9b12a606fe686f53934ef4103"), 1549831228,0x1b21c09f},
    {65000,uint256("cf7c5c8dd69e886084810c04b473453655a6ce2598258da7bbdae1a5b12e976f"), 1550134108,0x1b387173},
    {70000,uint256("d41b2332917d0fe28965f8aaac0e2f363eb247c97d46f60954b4c8ab4179a92f"), 1550436575,0x1b1ce465},
    {75000,uint256("900a31d8083cf755b6285b0ee5ed81c49c9f0bd5659f31177e93df213a002968"), 1550740496,0x1b1a738d},
    {80000,uint256("83b89a4764a08c58f3646d79e89ec9295d2d808b42a85879155947aa5b070044"), 1551044428,0x1b24131f},
    {85000,uint256("1b47a5402e746a20e6f7b0d0dc7d43d60b3a3c017f103cc845327138f7e8c580"), 1551347884,0x1b3297b6},
    {90000,uint256("a16c047e259110cf1248ce328c0acc34efd15322609b6f159de66e9c55e19063"), 1551650630,0x1b234e37},
    {95000,uint256("67d64fd6f872cd15140667fc9229c8f4f1e22a42fdd0005fec8925f915b8fc06"), 1551954257,0x1b259275},
    {100000,uint256("736dd0f32d190f06088f990e4b145976a8e9b55a548ef68ae82680ae68d2dd88"), 1552256402,0x1b1a3395},
    {105000,uint256("8226af816fcf88c49417c7a1d248deaccb74e6183a8b3f85b92813c9983b9f25"), 1552560299,0x1b279eb2},
    {110000,uint256("6be23d256598895cadeb4ede986fabb7b7f80c3ba6843013d7f5fb2d2e07ae2a"), 1552862478,0x1b15eb8d},
    {115000,uint256("443760ee2d9deafd7dbefba2317be4ed0829bbfb350c4b83da51af2dc110af74"), 1553165942,0x1b1dd880},
    {120000,uint256("2599a5856a8200ceeaace35aaf65c85018e5a98cc9f0e870756d27ad6a295f32"), 1553467946,0x1b1bd6ad},
    {125000,uint256("bb85ba89d05825cb751132168965e91d5babe8c70200ca1a3279de35d299e456"), 1553769957,0x1b22cad0},
    {130000,uint256("2b0ab3392c23ba0bbdc00c202c4550ae910803ac7e05cea3727b11a6f15054af"), 1554071299,0x1b1c79cd},
    {135000,uint256("5638b533561c4309aebcdf1799fba2542ef2ab203ac63818b98bb5189f704b7e"), 1554373879,0x1b183ddf},
    {140000,uint256("afe97374a8044e45c581729ff57d4a4e886ae54194724625121759ecd1700bb7"), 1554677095,0x1b123bbc},
    {145000,uint256("26f384ba2e889bb9ce5f7e52746eb113734f34c3b9f3f33af31087436d9d8e93"), 1554980134,0x1b190060},
    {150000,uint256("7ea391996336e4629a47e7f5be6794206aef5a87e878c0a0eb1fe0eb4b79f075"), 1555283371,0x1b4a6de4},
    {155000,uint256("8731b6a9cc29f495bc3b0555f813d0e99d933c31935c7384cd5142a93e07ea3d"), 1555583716,0x1b1768a5},
    {160000,uint256("564104d40a299ffbbf76bcdd0e4f47d47ac272c12c56f54c7ec86b7dc9b2c4f1"), 1555886667,0x1b14cfa0},
    {165000,uint256("6d7d5b005d597a67d77360b6c17c6fd2b75b5edbb39440148b3ebce071a2d885"), 1556190085,0x1b173453},
    {170000,uint256("ddebb5761740917025dde62491f28d57c9a69be41a6c3e9aa0f53b1dfe107c32"), 1556494826,0x1b556a22},
    {175000,uint256("a394691082175f02d39187cada25527c44985342ccf3545754465b6f7a4879fd"), 1556796027,0x1b126c67},
    {180000,uint256("45de64af12f5ca5fd7f48f1ed1eecba2893d097ca3adea8ff449be4460fd0d87"), 1557099436,0x1b14a631},
    {185000,uint256("e53c8c167134027c59009a41a3480482861fde63d09b869ffee7fcb42f25bca3"), 1557401372,0x1b159a55},
    {190000,uint256("2fa44bbd8ea486a80d897c0005d35bca8da0d031614f79170cb3a6ceb2f809e9"), 1557704815,0x1b1725ee},
    {195000,uint256("b607b0e92ff71989e410883fbd6851f3f64a23da6eeb85970abd328f6ef33a3f"), 1558007327,0x1b135d08},
    {200000,uint256("58c04ea959e144631c88563d1e0ed66c34f1ab3faa88591444df3bad7cf9dac1"), 1558309493,0x1b16d309},
    {205000,uint256("531dba43c753a31c4a9f6042251500c6472544f93ac18ed0e9cad93996acfab5"), 1558610646,0x1b1a32a7},
    {210000,uint256("c004136d239d4fa2cce1225006526ab0ea9a1075e91fa469ba6a23933761ecb9"), 1558910093,0x1b12a0d0},
    {215000,uint256("a5365c1c793e449144353fc10efca425cc1d9338f423deb81ebe0171ceb99b60"), 1559212029,0x1b1713f4},
    {220000,uint256("d88b789f54b1671595cbe5a07c6d9a1ee70da3823badbed7c4845b4f6b515c44"), 1559513950,0x1b125d74},
    {225000,uint256("65eef7f613ad5e4ee1ffc131137dbbd437275ed4662204c1958fe3d20ca78b5b"), 1559817574,0x1b1499ac},
    {230000,uint256("bb06c4d408063dbdb35b632fb6ef66ee558657db8fcb0a11c961119f8d1a5c07"), 1560121341,0x1b18c5c6},
    {235000,uint256("a601216b997921da61fac5b906b7389333a9d546f298536600db50ed3b5737a8"), 1560423962,0x1b1c952b},
    {240000,uint256("cce0fe318aa1fec6118ddacc613bee765a03434f9d786a94b03f47d892f7dd64"), 1560725412,0x1b14fe35},
    {245000,uint256("76e36ac51dcd38f92abadd4e378c7dc1a10cdcc7b822d7b979ffd7567ebde219"), 1561025644,0x1b13f837},
    {250000,uint256("01db37d05f2439cb794116e750c9ff4be553b2094b31a168c87293c75202df29"), 1561327990,0x1b2ab93f},
    {255000,uint256("77b9b74aaba7a69f34900c18b39e4f74df0e66790f4b91924943dbacab31ded1"), 1561630718,0x1b3ac2b2},
    {260000,uint256("d7571576f6523127651b1a8dbed765bc37436f27d126e5fe0ae473e46d298b1c"), 1561929705,0x1b25f9f5},
    {265000,uint256("0ffb9d7a5aa1fa0de846cd740a462cbff14bf57c4a193701b009bdb359392f0f"), 1562221615,0x1b1d3a00},
    {270000,uint256("5773a554eee3ab457819f30958a8231bb938e9e38f91a2578cea8c1bcc9d4222"), 1562525029,0x1b2a6cd4},
    {275000,uint256("36811503f47c189ecda9531b4fbabf60701d8eb64f8e0c6cbd628750eabe3740"), 1562826327,0x1b1a5581},
    {280000,uint256("fa3133a77ee16dbcf7f0e3084c6ccfbf66f8bae48e01fe1c56fe5c980903c199"), 1563127423,0x1b1e0f69},
    {285000,uint256("f5b63de37cd3bddfc03f03412057d7683fbdeadb9547f68df8530f84be8f2ae9"), 1563426143,0x1b1ba487},
    {290000,uint256("ae757126fe9a7db60f5d66d649d883471c0808da85a3d0c7bbca24cffa97093f"), 1563723881,0x1b1e3fed},
    {295000,uint256("0b64b48a6399955a07a0c671078cba5fbc825d09d60b651fe7981d8357d95a5e"), 1564024200,0x1b3748af},
    {300000,uint256("ac2bde773fd176793202320bc940791f0d6ca96819e45137e51a50ea3feeaa82"), 1564324250,0x1b1e3274},
    {305000,uint256("17f666af3370b326e995f8f93d162c2a6eff327680cb8f8ea87f5e21173280d6"), 1564615765,0x1b209076},
    {310000,uint256("98666b3ce3087348352a2ed81f23731cc4a483c01ac337a1d1aaec8d3ada2550"), 1564895309,0x1b20d820},
    {315000,uint256("b3ce3de1881f26c246b49cec28e354efb69810d6e17fdfd0e463bc6f4a900266"), 1565178953,0x1b182b2c},
    {320000,uint256("e528dc91b4f7e8dfb943952e748b8c1bffc33a620ee9771e0849cf439a01bd72"), 1565466098,0x1b1f46f0},
    {325000,uint256("0a2c1877f33a11e5edbf8924a123d9d70c3e324cd0e2753452dc31c58174a2ab"), 1565738740,0x1b1badfe},
    {330000,uint256("898e70ca87e07f53b5da61f0164dd26e89778a2532f8c03583584ab112789f6d"), 1566003658,0x1b1e831f},
    {335000,uint256("553eb9bc22c7c7f510825c607dc831cc02f5cbea27a74d764f004ba7322a2a9e"), 1566305956,0x1b192f1f},
    {340000,uint256("f52dfdc39ab39a94ccad43f8cc2591b246a4ec51051c58d78e8df863ae940e6b"), 1566608028,0x1b124ad6},
    {345000,uint256("df8757f3bb0380d408f9f2e85a324bb6ccb1708879fe90b00dcc06dd8aebcda2"), 1566910824,0x1b13b6b3},
    {350000,uint256("f6994267cc44e1a2c430b26c9bb6c81e460f38a91b2cac11c5e53b3a096e0221"), 1567212132,0x1b1491b6},
    {355000,uint256("af245b706de6395d589982370469c5c1169dcc2a1b69c7a2d5f827ce9f157e19"), 1567513405,0x1b1803c3},
    {360000,uint256("b5c55264ac32e1c42ef517109bca73f6f26415157b8e1c0ab7ff4e541dc1693f"), 1567811793,0x1b1186bb},
    {365000,uint256("39f3255797ea3f646a7fc2602477c71ab5752d6fb1be1879b5f34e4e990b5680"), 1568111610,0x1b11676f},
    {370000,uint256("2d833a4528d44a13b040ad5dc4e37f8ed923f370a643ef6a27c7b27849f98cf5"), 1568412390,0x1b151ea6},
    {375000,uint256("44cfd1868e3d02b8b3e18a5cce477d12014917545753246b713fa34089632b30"), 1568712801,0x1b140888},
    {380000,uint256("fc1c92b0b13b07c178308a77e15b623795ff01ef2b6feacc503b3f34bf403953"), 1569002103,0x1b10fcc2},
    {385000,uint256("bac3980f69cf3c07790c7f174949443803dac8835b728a4f4aa5a1945389952d"), 1569288645,0x1b139525},
    {390000,uint256("2443935676959aef9a36f1bd7810129742c681b1c9beb8008d17c22d8c172d21"), 1569583018,0x1b12b6d3},
    {395000,uint256("54ddb76498b00926e285122643a0e7301ff87526b6b3871d2b854bef3d2e9fa8"), 1569885036,0x1b154f76},
    {400000,uint256("d04d1c9fbe0621c62e1a3e47f2dfbc1ed564e1a5e88d21af7ddbb35220f577d0"), 1570174917,0x1b145f4f},
    {400120,uint256("945e6788fd8ca3cbbe62d08c1bbc8002a635cbe87db734b441088761e0909351"), 1570182146,0x1b184a40}
};

static const BRCheckPoint BRTestNetCheckpoints[] = {
    {       0, uint256("000000000933ea01ad0ee984209779baaec3ced90fa3f408719526f8d77f4943"), 1296688602, 0x1d00ffff },
    {  100800, uint256("0000000000a33112f86f3f7b0aa590cb4949b84c2d9c673e9e303257b3be9000"), 1376543922, 0x1c00d907 },
    {  201600, uint256("0000000000376bb71314321c45de3015fe958543afcbada242a3b1b072498e38"), 1393813869, 0x1b602ac0 },
    {  302400, uint256("0000000000001c93ebe0a7c33426e8edb9755505537ef9303a023f80be29d32d"), 1413766239, 0x1a33605e },
    {  403200, uint256("0000000000ef8b05da54711e2106907737741ac0278d59f358303c71d500f3c4"), 1431821666, 0x1c02346c },
    {  504000, uint256("0000000000005d105473c916cd9d16334f017368afea6bcee71629e0fcf2f4f5"), 1436951946, 0x1b00ab86 },
    {  604800, uint256("00000000000008653c7e5c00c703c5a9d53b318837bb1b3586a3d060ce6fff2e"), 1447484641, 0x1a092a20 },
    {  705600, uint256("00000000004ee3bc2e2dd06c31f2d7a9c3e471ec0251924f59f222e5e9c37e12"), 1455728685, 0x1c0ffff0 },
    {  806400, uint256("0000000000000faf114ff29df6dbac969c6b4a3b407cd790d3a12742b50c2398"), 1462006183, 0x1a34e280 },
    {  907200, uint256("0000000000166938e6f172a21fe69fe335e33565539e74bf74eeb00d2022c226"), 1469705562, 0x1c00ffff },
    { 1008000, uint256("000000000000390aca616746a9456a0d64c1bd73661fd60a51b5bf1c92bae5a0"), 1476926743, 0x1a52ccc0 },
    { 1108800, uint256("00000000000288d9a219419d0607fb67cc324d4b6d2945ca81eaa5e739fab81e"), 1490751239, 0x1b09ecf0 },
    { 1209600, uint256("0000000000000026b4692a26f1651bec8e9d4905640bd8e56056c9a9c53badf8"), 1507328506, 0x1973e180 },
    { 1310400, uint256("0000000000013b434bbe5668293c92ef26df6d6d4843228e8958f6a3d8101709"), 1527038604, 0x1b0ffff0 },
    { 1411200, uint256("00000000000000008b3baea0c3de24b9333c169e1543874f4202397f5b8502cb"), 1535535770, 0x194ac105 }
    //{ 1512000,
};

static int BRMainNetVerifyDifficulty(const BRMerkleBlock *block, const BRSet *blockSet)
{
    return 1; // XXX skip testnet difficulty check for now

}

static int BRTestNetVerifyDifficulty(const BRMerkleBlock *block, const BRSet *blockSet)
{
    return 1; // XXX skip testnet difficulty check for now
}

static const BRChainParams BRMainNetParamsRecord = {
    BRMainNetDNSSeeds,
    13370,
    0xae12dc54,
    0,
    BRMainNetVerifyDifficulty,
    BRMainNetCheckpoints,
    sizeof(BRMainNetCheckpoints)/sizeof(*BRMainNetCheckpoints)
};
const BRChainParams *BRMainNetParams = &BRMainNetParamsRecord;

static const BRChainParams BRTestNetParamsRecord = {
    BRTestNetDNSSeeds,
    18333,                 // standardPort
    0x0709110b,            // magicNumber
    SERVICES_NODE_WITNESS, // services
    BRTestNetVerifyDifficulty,
    BRTestNetCheckpoints,
    sizeof(BRTestNetCheckpoints)/sizeof(*BRTestNetCheckpoints)
};
const BRChainParams *BRTestNetParams = &BRTestNetParamsRecord;
